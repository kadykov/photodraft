# Active Context: Photodraft

**Version:** 0.1.3 (Feature Update: Slug Field)
**Date:** 2025-06-12
**Status:** Added `slug` field to schema and generation script. Preparing to update Memory Bank.

## 1. Current Work Focus

*   **Task:** Implement `slug` field generation. Update Memory Bank.
*   **Objective:**
    1.  Ensure `image_manifest.schema.json` is updated with `slug` (string, required).
    2.  Ensure `generate_manifest.py` correctly generates the `slug` from `relativePath` (e.g., `2025/03/04/DSC_1234.jpg` -> `2025-03-04-DSC_1234`).
    3.  Update all Memory Bank files to reflect this new feature.

## 2. Recent Changes & Activities

*   **`image_manifest.schema.json` updated:**
    *   Added `slug` property (string, required).
*   **`generate_manifest.py` updated:**
    *   Added logic to generate `slug` from `relativePath` by removing the file extension and replacing directory separators with hyphens.
    *   Included `slug` in the `image_data` dictionary.
*   **(Previous 0.1.2 changes):**
    *   `justfile` updated with `publish-schema`, `publish`, `debug-image` commands.
    *   `image_manifest.schema.json` updated with `creator` and `copyright`.
    *   `generate_manifest.py` updated for `title`, `description`, `creator`, `copyright` extraction and XMP helpers.

## 3. Next Steps

1.  Update remaining Memory Bank files:
    *   `memory-bank/progress.md`
    *   `memory-bank/systemPatterns.md`
    *   `memory-bank/techContext.md`
    *   `memory-bank/.clinerules.md`
    *   `memory-bank/projectbrief.md` (update version and mention slug)
2.  Inform user of completion and await further instructions.

## 4. Active Decisions & Considerations

*   **Slug Generation Logic:** The slug is generated by taking the `relativePath`, removing its suffix (extension), and replacing `os.sep` (which should be `/` due to `as_posix()` usage earlier for `relativePath` string) with `-`. This matches the user's example.
*   **Version Bump:** Incrementing project version to 0.1.3 to reflect the new `slug` feature.
